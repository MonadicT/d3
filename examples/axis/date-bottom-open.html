<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="../../d3.js"></script>
    <script type="text/javascript" src="../../d3.chart.js"></script>
    <script type="text/javascript" src="../../d3.time.js"></script>
    <style type="text/css">

body {
  font: 10px sans-serif;
}

.axis line, .axis path {
  fill: none;
  stroke: #000;
}

    </style>
  </head>
  <body>
    <script type="text/javascript">

var w = 960,
    h = 80,
    m = [10, 20, 20, 20],
    t0 = Date.UTC(2011, 07, 01, 12),
    t1 = Date.UTC(2011, 07, 08, 12),
    tf = d3.time.format("%m/%d"),
    x = d3.scale.linear().domain([t0, t1]).range([0, w - m[1] - m[3]]),
    y = d3.scale.linear().range([0, h - m[0] - m[2]]);

var axis = d3.chart.axis()
    .scale(x)
    .ticks(days(x.domain()))
    .tickFormat(function(t) { return tf(new Date(t)); })
    .mode("open-section");

d3.select("body").append("svg:svg")
    .attr("width", w)
    .attr("height", h)
  .append("svg:g")
    .attr("class", "x axis")
    .attr("transform", "translate(" + m[3] + "," + (m[0] + y.range()[1]) + ")")
    .call(axis);

function days(domain) {
  var d0 = domain[0],
      d1 = domain[1],
      dz = [];
  d0 += 864e5 - (d0 % 864e5 || 864e5);
  while (d0 <= d1) {
    dz.push(new Date(d0));
    d0 += 864e5;
  }
  return dz;
}

    </script>
  </body>
</html>
